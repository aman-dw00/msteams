{
  "$schema": "http://adaptivecards.io/schemas/adaptive-card.json",
  "type": "AdaptiveCard",
  "version": "1.4",
  "body": [
    {
      "type": "TextBlock",
      "text": "ğŸ”¥ @{triggerBody()?['title']}",
      "wrap": true,
      "weight": "Bolder",
      "size": "Large",
      "color": "attention",
      "horizontalAlignment": "Center"
    },
    {
      "type": "TextBlock",
      "text": "**ğŸ“„ Summary:**\n@{triggerBody()?['title']}",
      "wrap": true,
      "spacing": "Small"
    },
    {
      "type": "TextBlock",
      "text": "**ğŸ“Š Status:** FIRING",
      "wrap": true,
      "spacing": "Small"
    },
    {
      "type": "TextBlock",
      "text": "**ğŸ” Details:**\nâ€¢ alertname = @{split(triggerBody()?['text'], 'alertname = ')[1]?split('\n')[0]}\nâ€¢ severity = @{split(triggerBody()?['text'], 'severity = ')[1]?split('\n')[0]}\nâ€¢ namespace = @{split(triggerBody()?['text'], 'namespace = ')[1]?split('\n')[0]}\nâ€¢ pod = @{split(triggerBody()?['text'], 'pod = ')[1]?split('\n')[0]}\nâ€¢ team = @{split(triggerBody()?['text'], 'team = ')[1]?split('\n')[0]}\nâ€¢ env = @{split(triggerBody()?['text'], 'channel = ')[1]?split('\n')[0]}",
      "wrap": true,
      "spacing": "Small"
    },
    {
      "type": "TextBlock",
      "text": "**ğŸ“ Annotations:**\nâ€¢ dashboard: @{triggerBody()?['annotations']?['dashboard_url']}\nâ€¢ runbook: @{triggerBody()?['annotations']?['runbook_url']}\nâ€¢ description: @{triggerBody()?['annotations']?['description']}",
      "wrap": true,
      "spacing": "Small"
    }
  ],
  "actions": [
    {
      "type": "Action.OpenUrl",
      "title": "ğŸ“˜ Runbook",
      "url": "@{triggerBody()?['annotations']?['runbook_url']}"
    },
    {
      "type": "Action.OpenUrl",
      "title": "ğŸ“Š Dashboard",
      "url": "@{triggerBody()?['annotations']?['dashboard_url']}"
    },
    {
      "type": "Action.OpenUrl",
      "title": "ğŸ”• Silence",
      "url": "@{if(contains(triggerBody()?['text'], 'Source:'), trim(split(triggerBody()?['text'], 'Source:')[1]), 'https://example.com')}"
    }
  ]
}






------------------



{
  "$schema": "http://adaptivecards.io/schemas/adaptive-card.json",
  "type": "AdaptiveCard",
  "version": "1.4",
  "body": [
    {
      "type": "TextBlock",
      "text": "@{triggerBody()?['title']}",
      "weight": "Bolder",
      "size": "Large",
      "color": "@{if(contains(triggerBody()?['title'], 'FIRING'), 'attention', if(contains(triggerBody()?['title'], 'RESOLVED'), 'good', 'default'))}",
      "wrap": true
    },
    {
      "type": "TextBlock",
      "text": "ğŸš¨ **Alerts Summary**",
      "wrap": true,
      "weight": "Bolder",
      "size": "Medium",
      "spacing": "Medium",
      "separator": true
    },
    {
      "type": "TextBlock",
      "text": "@{replace(replace(replace(triggerBody()?['text'], '\nLabels:', '\n\nğŸ”¹ **Labels:**\n'), '\nAnnotations:', '\n\nğŸ“ **Annotations:**\n'), '\nSource:', '\n\nğŸ”— **Source:** ')}",
      "wrap": true,
      "spacing": "Medium"
    }
  ],
  "actions": [
    {
      "type": "Action.OpenUrl",
      "title": "ğŸ”— View Alert 1",
      "url": "@{if(greater(length(split(triggerBody()?['text'], 'Source: ')), 1), split(triggerBody()?['text'], 'Source: ')[1], 'https://example.com')}"
    },
    {
      "type": "Action.OpenUrl",
      "title": "ğŸ”— View Alert 2",
      "url": "@{if(greater(length(split(triggerBody()?['text'], 'Source: ')), 2), split(triggerBody()?['text'], 'Source: ')[2], 'https://example.com')}"
    },
    {
      "type": "Action.OpenUrl",
      "title": "ğŸ”— View Alert 3",
      "url": "@{if(greater(length(split(triggerBody()?['text'], 'Source: ')), 3), split(triggerBody()?['text'], 'Source: ')[3], 'https://example.com')}"
    },
    {
      "type": "Action.OpenUrl",
      "title": "ğŸ”— View Alert 4",
      "url": "@{if(greater(length(split(triggerBody()?['text'], 'Source: ')), 4), split(triggerBody()?['text'], 'Source: ')[4], 'https://example.com')}"
    }
  ]
}
